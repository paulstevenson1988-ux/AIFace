<html>
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-TSY1VQ5GB5"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-TSY1VQ5GB5");
    </script>
    <meta charset="utf-8" />
    <meta
      http-equiv="Cache-control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />

    <title>Face Tracking App 2.0 | LOFI Robot</title>

    <link rel="stylesheet" type="text/css" href="style.css" />

    <link
      href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <script type="module" src="sketch.js"></script>
    <script type="text/javascript" src="microbit_uart_ble.js"></script>
  </head>
  <body>
    <div id="loading-screen">
      <div class="loading-text">LOADING...</div>
    </div>
    <div id="container">
      <div id="menu_left">
        <button id="robotShow" onclick="connectButtonPressed()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 100 100"
            fill="#fff"
          >
            <path
              class="st0"
              d="M63.5 62.7c-1 0-1.7 0.8-1.8 1.7v2.9H38.6v-2.9c0-1-0.8-1.7-1.7-1.7 -1 0-1.7 0.8-1.7 1.7v4.7c0 1 0.8 1.7 1.7 1.7h26.7c1 0 1.7-0.8 1.7-1.7v-4.7C65.2 63.4 64.5 62.7 63.5 62.7z"
            />
            <path
              class="st0"
              d="M43.3 49.5c0-3.1-2.5-5.6-5.6-5.6 -3.1 0-5.6 2.5-5.6 5.6 0 0 0 0 0 0 0 3.1 2.5 5.6 5.6 5.6C40.8 55 43.3 52.5 43.3 49.5z"
            />
            <rect x="48.2" y="54.3" class="st0" width="3.6" height="7.2" />
            <path
              class="st0"
              d="M50 0C22.4 0 0 22.4 0 50c0 27.6 22.4 50 50 50s50-22.4 50-50C100 22.4 77.6 0 50 0zM73.3 73c0 2.5-2 4.5-4.5 4.5H31.1c-2.5 0-4.5-2-4.5-4.5V35.2c0-2.5 2-4.5 4.5-4.5h2.1v-4.5c0-2.5 2-4.5 4.5-4.5 2.5 0 4.5 2 4.5 4.5v4.5h15.2v-4.5c0-2.5 2-4.5 4.5-4.5 2.5 0 4.5 2 4.5 4.5v4.5h2.6c2.5 0 4.5 2 4.5 4.5V73z"
            />
            <path
              class="st0"
              d="M61.8 43.9c-3.1 0-5.6 2.5-5.6 5.6l3.2 0c0-1.3 1.1-2.3 2.3-2.3 1.3 0 2.3 1.1 2.3 2.3h3.2C67.4 46.4 64.9 43.9 61.8 43.9z"
            />
          </svg>
        </button>

        <button id="fullscreenBtn">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 100 100"
            fill="white"
          >
            <path
              d="M50,0C22.4,0,0,22.4,0,50c0,27.6,22.4,50,50,50s50-22.4,50-50C100,22.4,77.6,0,50,0z M43.8,59.7L31.6,71.8h6.6
          c1.8,0,3.2,1.4,3.2,3c0,1.7-1.4,3-3.2,3H24.4c-1.8,0-3.2-1.4-3.2-3c0,0,0-0.1,0-0.1c0-0.1,0-0.1,0-0.2l0-13.5c0-1.8,1.4-3.2,3-3.2
          c1.7,0,3,1.4,3,3.2v6.6l12.2-12.2c1.2-1.2,3.1-1.2,4.3,0C44.9,56.6,44.9,58.5,43.8,59.7z M43.8,44.6c-1.2,1.2-3.1,1.2-4.3,0
          L27.3,32.4V39c0,1.8-1.4,3.2-3,3.2c-1.7,0-3-1.4-3-3.2l0-13.6c0-0.1,0-0.1,0-0.2c0,0,0-0.1,0-0.1c0-1.7,1.4-3,3.2-3h13.7
          c1.8,0,3.2,1.4,3.2,3c0,1.7-1.4,3-3.2,3h-6.6l12.2,12.2C44.9,41.5,44.9,43.4,43.8,44.6z M56.2,40.3l12.2-12.2h-6.6
          c-1.8,0-3.2-1.4-3.2-3c0-1.7,1.4-3,3.2-3h13.7c1.8,0,3.2,1.4,3.2,3c0,0,0,0.1,0,0.1c0,0.1,0,0.1,0,0.2V39c0,1.8-1.4,3.2-3,3.2
          c-1.7,0-3-1.4-3-3.2v-6.6L60.5,44.6c-1.2,1.2-3.1,1.2-4.3,0C55.1,43.4,55.1,41.5,56.2,40.3z M78.8,74.5c0,0.1,0,0.1,0,0.2
          c0,0,0,0.1,0,0.1c0,1.7-1.4,3-3.2,3H61.8c-1.8,0-3.2-1.4-3.2-3c0-1.7,1.4-3,3.2-3h6.6L56.2,59.7c-1.2-1.2-1.2-3.1,0-4.3
          c1.2-1.2,3.1-1.2,4.3,0l12.2,12.2V61c0-1.8,1.4-3.2,3-3.2c1.7,0,3,1.4,3,3.2h0V74.5z"
            ></path>
          </svg>
        </button>

        <button id="camera_toggle" onclick="toggleCamera()">
          <svg
            version="1.1"
            id="Warstwa_1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            viewBox="0 0 100 100"
            style="enable-background: new 0 0 100 100"
            xml:space="preserve"
          >
            <style type="text/css">
              .st0 {
                fill: #fff;
              }
            </style>
            <path
              class="st0"
              d="M50,62.6c5.6,0,10.1-4.5,10.1-10.2c0-5.4-4.7-10-10.3-10c-5.5,0-10.1,4.5-10.1,10C39.8,58.2,44.2,62.6,50,62.6z
             M49.9,45c4.1,0,7.5,3.4,7.5,7.4c0,4.2-3.3,7.4-7.5,7.4c-4.2,0-7.4-3.3-7.4-7.4C42.5,48.3,45.8,45,49.9,45z"
            />
            <path
              class="st0"
              d="M36.8,46.1c1.4,0,2.5-1.2,2.5-2.6c0-1.4-1.3-2.6-2.6-2.6c-1.4,0-2.5,1.2-2.5,2.6C34.2,45,35.4,46.1,36.8,46.1z"
            />
            <path
              class="st0"
              d="M50,57.3c0.2,0,0.3,0.1,0.5,0.1c2.4,0,4.6-2.3,4.6-4.9c0-1.9-1-3.5-2.6-4.4c-0.5-0.3-1-0.4-1.5-0.5
            c-1.4-0.2-1.9,2-0.2,2.4c1.3,0.3,1.9,1.5,1.8,2.7c-0.1,1.2-1.1,2.2-2.3,2.4c-0.6,0.1-1.1,0.6-1.1,1.1C49,56.7,49.4,57.2,50,57.3z"
            />
            <path
              class="st0"
              d="M50,0C22.4,0,0,22.4,0,50c0,27.6,22.4,50,50,50s50-22.4,50-50C100,22.4,77.6,0,50,0z M24.8,64.5
            c0.1,0.2,0.2,0.4,0.3,0.6c0.8,1.3,0.4,2.9-0.9,3.7c-1.3,0.8-3,0.4-3.8-0.9c-1.5-2.5-2.6-5.2-3.5-8c-2.2-7.4-1.8-14.9,1.1-22.3
            c0.9-2.3,2.2-4.6,3.9-6.9c4.2-6,9.8-10.3,16.5-12.7c5.7-2,11.8-2.6,18-1.7c0.5,0.1,1.1,0.2,1.6,0.3c0.1,0,0.2,0,0.4,0
            c0.1,0,0.3,0.1,0.6,0.1c-0.5-0.7-1-1.2-1.4-1.8c-0.4-0.5-0.8-1-1.2-1.5c-0.8-1-0.4-2.3,0.5-3c0.9-0.7,2.3-0.5,3,0.4
            c1.8,2.3,3.7,4.5,5.5,6.8c0.7,0.8,1.3,1.6,2,2.4c1.1,1.4,0.7,3.1-0.8,4.1c-2.8,1.8-5.6,3.6-8.4,5.4c-1,0.7-2.2,0.6-3-0.2
            c-0.8-0.7-1-1.9-0.4-2.8c0.3-0.5,0.8-0.8,1.3-1.1c1.3-0.9,2.7-1.8,4.1-2.7c-0.9-0.3-1.7-0.5-2.5-0.7c0,0,0,0,0,0
            c-0.9-0.2-2-0.4-3-0.5c-8.1-0.9-15.2,0.9-21.2,5.3c-5.6,4.1-9.4,9.4-11.3,15.9C20,50,20.9,57.4,24.8,64.5z M30.5,44.8
            c0-3.6,2.6-6.7,6.1-7.2c0.3,0,0.4-0.2,0.4-0.5c0-1.1,0-2.2,0.6-3.2c0.8-1.4,2-2.2,3.7-2.2c1.8,0,3.5,0,5.3,0c2.4,0,4.3,1.9,4.4,4.3
            c0,0.5,0,1,0,1.6c0.2,0,0.4,0,0.6,0c3.2,0,6.4,0,9.6,0c3,0,6,2.1,7,5c0.3,0.8,0.4,1.6,0.4,2.4c0,4.4,0.1,8.9,0,13.3
            c0,3.7-2.9,7.4-6.9,7.8c-0.5,0-0.9,0-1.4,0c-7.4,0-14.7-0.1-22.1,0c-4.3,0-7.7-3.7-7.7-7.8C30.6,53.9,30.6,49.4,30.5,44.8z
             M81.9,62.4C81,64.7,79.7,67,78,69.4c-4.2,6-9.8,10.3-16.5,12.7c-5.7,2-11.8,2.6-18,1.7c-0.5-0.1-1.1-0.2-1.6-0.3
            c-0.1,0-0.2,0-0.4,0c-0.1,0-0.3-0.1-0.6-0.1c0.5,0.7,1,1.2,1.4,1.8c0.4,0.5,0.8,1,1.2,1.5c0.8,1,0.4,2.3-0.5,3
            c-0.9,0.7-2.3,0.5-3-0.4c-1.8-2.3-3.7-4.5-5.5-6.8c-0.7-0.8-1.3-1.6-2-2.4c-1.1-1.4-0.7-3.1,0.8-4.1c2.8-1.8,5.6-3.6,8.4-5.4
            c1-0.7,2.2-0.6,3,0.2c0.8,0.7,1,1.9,0.4,2.8c-0.3,0.5-0.8,0.8-1.3,1.1c-1.3,0.9-2.7,1.8-4.1,2.7c0.9,0.3,1.7,0.5,2.5,0.7
            c0,0,0,0,0,0c0.9,0.2,2,0.4,3,0.5c8.1,0.9,15.2-0.9,21.2-5.3c5.6-4.1,9.4-9.4,11.3-15.9c2.2-7.4,1.3-14.8-2.6-21.9
            c-0.1-0.2-0.2-0.4-0.3-0.6c-0.8-1.3-0.4-2.9,0.9-3.7c1.3-0.8,3-0.4,3.8,0.9c1.5,2.5,2.6,5.2,3.5,8C85.2,47.6,84.8,55.1,81.9,62.4z"
            />
          </svg>
        </button>
      </div>
    </div>

    <a id="lofi_logo" href="https://cardboard.lofirobot.com">
      <svg
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 550 550"
        style="enable-background: new 0 0 550 550"
        fill="#fff"
      >
        <path
          class="st0"
          d="M205.5,146.3c-42.5,0-77,34.5-77,77s34.5,77,77,77s77-34.5,77-77S248.1,146.3,205.5,146.3L205.5,146.3z
  	 M205.5,232.9c-5.3,0-9.6-4.3-9.6-9.6s4.3-9.6,9.6-9.6c5.3,0,9.6,4.3,9.6,9.6c0,0,0,0,0,0C215.1,228.6,210.9,232.9,205.5,232.9
  	C205.5,232.9,205.5,232.9,205.5,232.9z"
        />
        <path
          class="st0"
          d="M421.9,216.8l-12.3-26.9c-1.6-4.2-1.6-8.8,0.2-12.9l11.9-24.2c1.7-3.5-0.1-6.4-4-6.4h-94.7
  	c-3.9,0-7.1,3.2-7.1,7.1v139.7c0,3.9,3.2,7.1,7.1,7.2h40.2c3.9,0,7.1-3.2,7.1-7.2v-62.7c0-3.9,3.2-7.1,7.2-7.2h40.2
  	C421.6,223.3,423.5,220.4,421.9,216.8z M349.3,192.6c-5.3,0-9.6-4.3-9.6-9.6c0-5.3,4.3-9.6,9.6-9.6c5.3,0,9.6,4.3,9.6,9.6
  	c0,0,0,0,0,0C358.9,188.3,354.6,192.6,349.3,192.6L349.3,192.6z"
        />
        <path
          class="st0"
          d="M524.1,146.3h-62.7c-3.9,0-7.1,3.2-7.2,7.1v139.7c0,3.9,3.2,7.1,7.2,7.2h62.7c3.9,0,7.1-3.2,7.2-7.2V153.5
  	C531.3,149.5,528.1,146.3,524.1,146.3z M492.8,273.1c-5.3,0-9.6-4.3-9.6-9.6s4.3-9.6,9.6-9.6c5.3,0,9.6,4.3,9.6,9.6c0,0,0,0,0,0
  	C502.4,268.8,498.1,273.1,492.8,273.1z"
        />
        <path
          class="st0"
          d="M122.7,294.4l-100-146c-2.2-3.2-4-2.7-4,1.2v143.5c0,3.9,3.2,7.1,7.1,7.2h93.7
  	C123.5,300.3,124.9,297.7,122.7,294.4z M60.1,273.1c-5.3,0-9.6-4.3-9.6-9.6c0-5.3,4.3-9.6,9.6-9.6c5.3,0,9.6,4.3,9.6,9.6l0,0
  	C69.7,268.8,65.4,273.1,60.1,273.1C60.1,273.1,60.1,273.1,60.1,273.1L60.1,273.1z"
        />
        <path
          class="st0"
          d="M45.7,393.1H31.1c-0.8,0-1.4-0.6-1.4-1.4v-39c0-0.8-0.6-1.4-1.4-1.4h-8.1c-0.8,0-1.4,0.6-1.4,1.4v48.3
  	c0,0.8,0.6,1.4,1.4,1.4h25.5c0.8,0,1.4-0.6,1.4-1.4v-6.4C47.1,393.7,46.5,393.1,45.7,393.1z"
        />
        <path
          class="st0"
          d="M106.5,357.9c-10.7-10.4-27.8-10.4-38.5,0c-5.2,4.9-8.1,11.8-8,19c-0.2,8.1,3.5,15.8,9.9,20.7
  	c10.9,8.8,26.7,8.1,36.7-1.7c5.2-4.9,8.1-11.8,7.9-18.9C114.7,369.8,111.8,362.9,106.5,357.9z M98.8,389.1
  	c-2.9,3.3-7.1,5.1-11.5,4.9c-4.5,0.2-8.8-1.7-11.7-5c-5.9-7-5.8-17.3,0.2-24.3c6-6.4,16-6.7,22.3-0.7c0.2,0.2,0.5,0.5,0.7,0.7
  	C104.8,371.8,104.8,382.1,98.8,389.1L98.8,389.1z"
        />
        <path
          class="st0"
          d="M157.7,351.3h-27.2c-0.8,0-1.4,0.6-1.4,1.4v48.2c0,0.8,0.6,1.4,1.4,1.4h8.1c0.8,0,1.4-0.6,1.4-1.4v-19.2
  	c0-0.8,0.6-1.4,1.4-1.4h16.3c0.8,0,1.4-0.6,1.4-1.4v-6.4c0-0.8-0.6-1.4-1.4-1.4h-16.3c-0.8,0-1.4-0.6-1.4-1.4v-7.6
  	c0-0.8,0.6-1.4,1.4-1.4h16.3c0.8,0,1.4-0.6,1.4-1.4v-6.4C159.1,351.9,158.5,351.3,157.7,351.3z"
        />
        <path
          class="st0"
          d="M189.9,351.3h-8.1c-0.8,0-1.4,0.6-1.4,1.4v48.2c0,0.8,0.6,1.4,1.4,1.4h8.1c0.8,0,1.4-0.6,1.4-1.4v-48.2
  	C191.3,351.9,190.7,351.3,189.9,351.3z"
        />
        <path
          class="st0"
          d="M284.5,401.2l-13.4-22c3.2-0.4,6.1-1.9,8.2-4.4c2.1-2.5,3.3-5.7,3.2-9c0-9.7-6.2-14.5-18.6-14.5h-14.2
  	c-0.8,0-1.4,0.6-1.4,1.4v48.2c0,0.8,0.6,1.4,1.4,1.4h8.1c0.8,0,1.4-0.6,1.4-1.4v-21c0-0.8,0.3-0.9,0.7-0.2l12,21.4
  	c0.5,0.7,1.3,1.2,2.1,1.2h9.7C284.7,402.4,285,401.8,284.5,401.2z M268.9,372.1c-1.5,0.7-6.6,0.9-6.6,0.9c-0.8,0-1.8,0.1-2.2,0.1
  	s-0.8-0.7-0.8-1.4V361c0-0.8,0.6-1.4,1.4-1.4h0.2c3.8,0,6.5,0.4,8,1.2c1.9,1,2.9,3,2.9,5.7C271.8,369.3,270.9,371.2,268.9,372.1z"
        />
        <path
          class="st0"
          d="M346.9,357.9c-10.7-10.4-27.8-10.4-38.5,0c-5.2,4.9-8.1,11.8-8,19c-0.2,8.1,3.5,15.8,9.9,20.7
  	c10.9,8.8,26.7,8.1,36.7-1.7c5.2-4.9,8.1-11.8,7.9-18.9C355,369.8,352.1,362.9,346.9,357.9z M339.1,389.1c-2.9,3.3-7.1,5.1-11.5,4.9
  	c-4.5,0.2-8.8-1.7-11.7-5c-5.9-7-5.8-17.3,0.2-24.3c6-6.4,16-6.7,22.3-0.7c0.2,0.2,0.5,0.5,0.7,0.7
  	C345.1,371.8,345.1,382.1,339.1,389.1L339.1,389.1z"
        />
        <path
          class="st0"
          d="M396.8,375.5c7.1-1.2,10.7-4.9,10.7-10.9c0-4.9-2.1-8.5-6.2-10.8c-2.3-1.2-4.8-1.9-7.4-2.1
  	c-2-0.2-7.9-0.3-7.9-0.3h-2.9h-6.7c-0.8,0-1.4,0.6-1.4,1.4v48.2c0,0.8,0.6,1.4,1.4,1.4h6.9c4.9,0,8.5-0.1,10.7-0.4
  	c3-0.3,5.9-1.2,8.6-2.5c4.5-2.4,6.8-6.3,6.8-11.7C409.3,380.8,405.2,376.7,396.8,375.5z M385.9,361.1c0-0.8,0.6-1.4,1.4-1.4h1.2
  	c3.1,0,5.4,0.4,6.8,1.3s2.1,2.4,2.1,4.7c0,2.3-0.8,3.9-2.3,4.8c-1.3,0.9-5.4,1.2-5.4,1.2c-0.8,0.1-2,0.1-2.6,0.1
  	c-0.7-0.1-1.3-0.7-1.2-1.4L385.9,361.1z M390.2,393.9h-2.9c-0.8,0-1.4-0.6-1.4-1.4v-10.9c0-0.8,0.6-1.4,1.4-1.4h3
  	c5.5,0,8.2,2.2,8.2,6.7C398.5,391.5,395.8,393.9,390.2,393.9L390.2,393.9z"
        />
        <path
          class="st0"
          d="M472.8,357.9c-10.7-10.4-27.8-10.4-38.5,0c-5.2,4.9-8.1,11.8-8,19c-0.2,8.1,3.5,15.8,9.9,20.7
  	c10.9,8.8,26.7,8.1,36.7-1.7c5.2-4.9,8.1-11.8,7.9-18.9C481,369.8,478,362.9,472.8,357.9z M465.1,389.1c-2.9,3.3-7.1,5.1-11.5,4.9
  	c-4.5,0.2-8.8-1.7-11.7-5c-5.9-7-5.8-17.3,0.2-24.3c6-6.4,16-6.7,22.3-0.7c0.2,0.2,0.5,0.5,0.7,0.7
  	C471.1,371.8,471.1,382.1,465.1,389.1L465.1,389.1z"
        />
        <path
          class="st0"
          d="M529.8,351.3h-33.2c-0.8,0-1.4,0.6-1.4,1.4v6.4c0,0.8,0.6,1.4,1.4,1.4h9.7c0.8,0,1.4,0.6,1.4,1.4v39
  	c0,0.8,0.6,1.4,1.4,1.4h8.1c0.8,0,1.4-0.6,1.4-1.4v-39c0-0.8,0.6-1.4,1.4-1.4h9.7c0.8,0,1.4-0.6,1.4-1.4v-6.4
  	C531.2,351.9,530.6,351.3,529.8,351.3z"
        />
      </svg>
    </a>

    <a id="info" href="https://cardboard.lofirobot.com/face-app-info/">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
        <style type="text/css"></style>
        <path
          fill="#fff"
          d="M50 0C22.4 0 0 22.4 0 50c0 27.6 22.4 50 50 50s50-22.4 50-50C100 22.4 77.6 0 50 0zM53.9 81.1H40.6V67.7h13.3V81.1zM68.7 43.6c-0.8 1.8-1.8 3.4-3 4.7 -1.2 1.4-2.4 2.5-3.8 3.5 -1.4 1-2.7 1.8-3.9 2.6 -0.7 0.5-1.4 0.9-2.1 1.2 -0.7 0.3-1.2 0.8-1.6 1.3 -0.2 0.3-0.3 0.6-0.3 0.9 -0.1 0.3-0.1 0.6-0.2 1 -0.1 0.4-0.1 0.7 0 1.1H40.6v-2.4c0-2 0.3-3.7 1-5.2 0.7-1.5 1.6-2.8 2.6-4 1-1.1 2.2-2.1 3.4-3 1.2-0.8 2.3-1.6 3.4-2.2 1.1-0.7 2-1.3 2.7-1.8 0.7-0.5 1.3-1 1.7-1.4 0.4-0.5 0.7-0.9 0.9-1.3 0.2-0.4 0.3-0.8 0.3-1.3 0-1.4-0.5-2.6-1.5-3.6 -1-1-2.2-1.5-3.6-1.5 -1.6 0-3 0.5-4.1 1.5 -1.1 1-1.7 2.2-1.7 3.6H32.5c0-2.6 0.5-4.9 1.5-7.1 1-2.2 2.4-4.2 4.1-5.8 1.7-1.7 3.7-3 6-4 2.3-1 4.7-1.5 7.3-1.5h0.1c2.6 0 4.9 0.5 7.1 1.5 2.2 1 4.2 2.3 5.8 4 1.7 1.7 3 3.6 4 5.8 1 2.2 1.4 4.6 1.4 7.1C69.9 39.7 69.5 41.8 68.7 43.6z"
        ></path>
      </svg>
    </a>

    <section id="demos" class="invisible">
      <div id="liveView" class="videoView">
        <div style="position: relative">
          <video
            id="webcam"
            style="position: abso"
            autoplay
            playsinline
          ></video>
          <canvas
            class="output_canvas"
            id="output_canvas"
            style="position: absolute; left: 0px; top: 0px"
          ></canvas>
        </div>
      </div>
      <div class="blend-shapes">
        <ul class="blend-shapes-list" id="video-blend-shapes"></ul>
      </div>
    </section>
  </body>
</html>
