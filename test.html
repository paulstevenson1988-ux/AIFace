<html>
  <head>
    <meta charset="utf-8" />
    <meta
      http-equiv="Cache-control"
      content="no-cache, no-store, must-revalidate"
    />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=no"
    />

    <title>Face Tracking App</title>

    <link rel="stylesheet" type="text/css" href="style.css" />

    <link
      href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <script type="module" src="sketch.js"></script>
    <script type="text/javascript" src="microbit_uart_ble.js"></script>
  </head>
  <body>
    <div id="loading-screen">
      <div class="loading-text">LOADING...</div>
    </div>
    <div id="container">
      <div id="menu_left">
        <button id="robotShow" onclick="connectButtonPressed()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 100 100"
            fill="#fff"
          >
            <path
              class="st0"
              d="M63.5 62.7c-1 0-1.7 0.8-1.8 1.7v2.9H38.6v-2.9c0-1-0.8-1.7-1.7-1.7 -1 0-1.7 0.8-1.7 1.7v4.7c0 1 0.8 1.7 1.7 1.7h26.7c1 0 1.7-0.8 1.7-1.7v-4.7C65.2 63.4 64.5 62.7 63.5 62.7z"
            />
            <path
              class="st0"
              d="M43.3 49.5c0-3.1-2.5-5.6-5.6-5.6 -3.1 0-5.6 2.5-5.6 5.6 0 0 0 0 0 0 0 3.1 2.5 5.6 5.6 5.6C40.8 55 43.3 52.5 43.3 49.5z"
            />
            <rect x="48.2" y="54.3" class="st0" width="3.6" height="7.2" />
            <path
              class="st0"
              d="M50 0C22.4 0 0 22.4 0 50c0 27.6 22.4 50 50 50s50-22.4 50-50C100 22.4 77.6 0 50 0zM73.3 73c0 2.5-2 4.5-4.5 4.5H31.1c-2.5 0-4.5-2-4.5-4.5V35.2c0-2.5 2-4.5 4.5-4.5h2.1v-4.5c0-2.5 2-4.5 4.5-4.5 2.5 0 4.5 2 4.5 4.5v4.5h15.2v-4.5c0-2.5 2-4.5 4.5-4.5 2.5 0 4.5 2 4.5 4.5v4.5h2.6c2.5 0 4.5 2 4.5 4.5V73z"
            />
            <path
              class="st0"
              d="M61.8 43.9c-3.1 0-5.6 2.5-5.6 5.6l3.2 0c0-1.3 1.1-2.3 2.3-2.3 1.3 0 2.3 1.1 2.3 2.3h3.2C67.4 46.4 64.9 43.9 61.8 43.9z"
            />
          </svg>
        </button>

        <button id="fullscreenBtn">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 100 100"
            fill="white"
          >
            <path
              d="M50,0C22.4,0,0,22.4,0,50c0,27.6,22.4,50,50,50s50-22.4,50-50C100,22.4,77.6,0,50,0z M43.8,59.7L31.6,71.8h6.6
          c1.8,0,3.2,1.4,3.2,3c0,1.7-1.4,3-3.2,3H24.4c-1.8,0-3.2-1.4-3.2-3c0,0,0-0.1,0-0.1c0-0.1,0-0.1,0-0.2l0-13.5c0-1.8,1.4-3.2,3-3.2
          c1.7,0,3,1.4,3,3.2v6.6l12.2-12.2c1.2-1.2,3.1-1.2,4.3,0C44.9,56.6,44.9,58.5,43.8,59.7z M43.8,44.6c-1.2,1.2-3.1,1.2-4.3,0
          L27.3,32.4V39c0,1.8-1.4,3.2-3,3.2c-1.7,0-3-1.4-3-3.2l0-13.6c0-0.1,0-0.1,0-0.2c0,0,0-0.1,0-0.1c0-1.7,1.4-3,3.2-3h13.7
          c1.8,0,3.2,1.4,3.2,3c0,1.7-1.4,3-3.2,3h-6.6l12.2,12.2C44.9,41.5,44.9,43.4,43.8,44.6z M56.2,40.3l12.2-12.2h-6.6
          c-1.8,0-3.2-1.4-3.2-3c0-1.7,1.4-3,3.2-3h13.7c1.8,0,3.2,1.4,3.2,3c0,0,0,0.1,0,0.1c0,0.1,0,0.1,0,0.2V39c0,1.8-1.4,3.2-3,3.2
          c-1.7,0-3-1.4-3-3.2v-6.6L60.5,44.6c-1.2,1.2-3.1,1.2-4.3,0C55.1,43.4,55.1,41.5,56.2,40.3z M78.8,74.5c0,0.1,0,0.1,0,0.2
          c0,0,0,0.1,0,0.1c0,1.7-1.4,3-3.2,3H61.8c-1.8,0-3.2-1.4-3.2-3c0-1.7,1.4-3,3.2-3h6.6L56.2,59.7c-1.2-1.2-1.2-3.1,0-4.3
          c1.2-1.2,3.1-1.2,4.3,0l12.2,12.2V61c0-1.8,1.4-3.2,3-3.2c1.7,0,3,1.4,3,3.2h0V74.5z"
            ></path>
          </svg>
        </button>

        <button id="camera_toggle" onclick="toggleCamera()">
          <svg
            version="1.1"
            id="Warstwa_1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            viewBox="0 0 100 100"
            style="enable-background: new 0 0 100 100"
            xml:space="preserve"
          >
            <style type="text/css">
              .st0 {
                fill: #fff;
              }
            </style>
            <path
              class="st0"
              d="M50,62.6c5.6,0,10.1-4.5,10.1-10.2c0-5.4-4.7-10-10.3-10c-5.5,0-10.1,4.5-10.1,10C39.8,58.2,44.2,62.6,50,62.6z
             M49.9,45c4.1,0,7.5,3.4,7.5,7.4c0,4.2-3.3,7.4-7.5,7.4c-4.2,0-7.4-3.3-7.4-7.4C42.5,48.3,45.8,45,49.9,45z"
            />
            <path
              class="st0"
              d="M36.8,46.1c1.4,0,2.5-1.2,2.5-2.6c0-1.4-1.3-2.6-2.6-2.6c-1.4,0-2.5,1.2-2.5,2.6C34.2,45,35.4,46.1,36.8,46.1z"
            />
            <path
              class="st0"
              d="M50,57.3c0.2,0,0.3,0.1,0.5,0.1c2.4,0,4.6-2.3,4.6-4.9c0-1.9-1-3.5-2.6-4.4c-0.5-0.3-1-0.4-1.5-0.5
            c-1.4-0.2-1.9,2-0.2,2.4c1.3,0.3,1.9,1.5,1.8,2.7c-0.1,1.2-1.1,2.2-2.3,2.4c-0.6,0.1-1.1,0.6-1.1,1.1C49,56.7,49.4,57.2,50,57.3z"
            />
            <path
              class="st0"
              d="M50,0C22.4,0,0,22.4,0,50c0,27.6,22.4,50,50,50s50-22.4,50-50C100,22.4,77.6,0,50,0z M24.8,64.5
            c0.1,0.2,0.2,0.4,0.3,0.6c0.8,1.3,0.4,2.9-0.9,3.7c-1.3,0.8-3,0.4-3.8-0.9c-1.5-2.5-2.6-5.2-3.5-8c-2.2-7.4-1.8-14.9,1.1-22.3
            c0.9-2.3,2.2-4.6,3.9-6.9c4.2-6,9.8-10.3,16.5-12.7c5.7-2,11.8-2.6,18-1.7c0.5,0.1,1.1,0.2,1.6,0.3c0.1,0,0.2,0,0.4,0
            c0.1,0,0.3,0.1,0.6,0.1c-0.5-0.7-1-1.2-1.4-1.8c-0.4-0.5-0.8-1-1.2-1.5c-0.8-1-0.4-2.3,0.5-3c0.9-0.7,2.3-0.5,3,0.4
            c1.8,2.3,3.7,4.5,5.5,6.8c0.7,0.8,1.3,1.6,2,2.4c1.1,1.4,0.7,3.1-0.8,4.1c-2.8,1.8-5.6,3.6-8.4,5.4c-1,0.7-2.2,0.6-3-0.2
            c-0.8-0.7-1-1.9-0.4-2.8c0.3-0.5,0.8-0.8,1.3-1.1c1.3-0.9,2.7-1.8,4.1-2.7c-0.9-0.3-1.7-0.5-2.5-0.7c0,0,0,0,0,0
            c-0.9-0.2-2-0.4-3-0.5c-8.1-0.9-15.2,0.9-21.2,5.3c-5.6,4.1-9.4,9.4-11.3,15.9C20,50,20.9,57.4,24.8,64.5z M30.5,44.8
            c0-3.6,2.6-6.7,6.1-7.2c0.3,0,0.4-0.2,0.4-0.5c0-1.1,0-2.2,0.6-3.2c0.8-1.4,2-2.2,3.7-2.2c1.8,0,3.5,0,5.3,0c2.4,0,4.3,1.9,4.4,4.3
            c0,0.5,0,1,0,1.6c0.2,0,0.4,0,0.6,0c3.2,0,6.4,0,9.6,0c3,0,6,2.1,7,5c0.3,0.8,0.4,1.6,0.4,2.4c0,4.4,0.1,8.9,0,13.3
            c0,3.7-2.9,7.4-6.9,7.8c-0.5,0-0.9,0-1.4,0c-7.4,0-14.7-0.1-22.1,0c-4.3,0-7.7-3.7-7.7-7.8C30.6,53.9,30.6,49.4,30.5,44.8z
             M81.9,62.4C81,64.7,79.7,67,78,69.4c-4.2,6-9.8,10.3-16.5,12.7c-5.7,2-11.8,2.6-18,1.7c-0.5-0.1-1.1-0.2-1.6-0.3
            c-0.1,0-0.2,0-0.4,0c-0.1,0-0.3-0.1-0.6-0.1c0.5,0.7,1,1.2,1.4,1.8c0.4,0.5,0.8,1,1.2,1.5c0.8,1,0.4,2.3-0.5,3
            c-0.9,0.7-2.3,0.5-3-0.4c-1.8-2.3-3.7-4.5-5.5-6.8c-0.7-0.8-1.3-1.6-2-2.4c-1.1-1.4-0.7-3.1,0.8-4.1c2.8-1.8,5.6-3.6,8.4-5.4
            c1-0.7,2.2-0.6,3,0.2c0.8,0.7,1,1.9,0.4,2.8c-0.3,0.5-0.8,0.8-1.3,1.1c-1.3,0.9-2.7,1.8-4.1,2.7c0.9,0.3,1.7,0.5,2.5,0.7
            c0,0,0,0,0,0c0.9,0.2,2,0.4,3,0.5c8.1,0.9,15.2-0.9,21.2-5.3c5.6-4.1,9.4-9.4,11.3-15.9c2.2-7.4,1.3-14.8-2.6-21.9
            c-0.1-0.2-0.2-0.4-0.3-0.6c-0.8-1.3-0.4-2.9,0.9-3.7c1.3-0.8,3-0.4,3.8,0.9c1.5,2.5,2.6,5.2,3.5,8C85.2,47.6,84.8,55.1,81.9,62.4z"
            />
          </svg>
        </button>
      </div>
    </div>
    
    <section id="demos" class="invisible">
      <div id="liveView" class="videoView">
        <div style="position: relative">
          <video
            id="webcam"
            style="position: abso"
            autoplay
            playsinline
          ></video>
          <canvas
            class="output_canvas"
            id="output_canvas"
            style="position: absolute; left: 0px; top: 0px"
          ></canvas>
        </div>
      </div>
      <div class="blend-shapes">
        <ul class="blend-shapes-list" id="video-blend-shapes"></ul>
      </div>
    </section>
  </body>
</html>
